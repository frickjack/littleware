<?xml version='1.0' encoding='UTF-8' ?>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.prime.com.tr/ui"
      >
    <h:body>
        <ui:composition template="/WEB-INF/layout/standard.xhtml">
            <ui:define name="title">simple browser</ui:define>
            <ui:define name="extraLinks">

                <link rel="stylesheet" type="text/css"
                      href="util/css/browser.css"
                      />

                <script type="text/javascript" charset="utf-8"
                        src="http://yui.yahooapis.com/3.2.0/build/yui/yui-debug.js">
                </script>

                <script type="text/javascript" charset="utf-8"
                        src="util/js/Model.js">
                </script>
                <script type="text/javascript" charset="utf-8"
                        src="util/js/View.js">
                </script>
                <script type="text/javascript" charset="utf-8"
                        src="util/js/Controller.js">
                </script>

            </ui:define>

            <!-- .................................................  -->

            <ui:define name="content">

                <div id="productBase" class="yui3-skin-sam">
                    <div id="productInfo">
                        <img alt="nodeGraph" src="./util/img/nodeGraph.png" width="100px" style="margin:20px;"/>
                        <table class="browsercell"><tr>
                                <td><img alt="icon" src="util/img/adobe_reader.jpg" /></td>
                                <td><h3> <h:outputText value="#{hoodBean.asset.model.asset.name}" /> </h3></td>
                            </tr></table>
                        <p>
                            <h:outputText value="#{hoodBean.asset.model.asset.comment}" />
                        </p>
                        <table class="deftable">
                            <tr><th>Type:</th><td><h:outputText value="#{hoodBean.asset.model.asset.assetType}" /></td></tr>
                            <tr><th>Owner:</th><td>Reuben</td></tr>
                            <tr><th>ACL:</th><td>everybody.read</td></tr>
                        </table>
                    </div>

                    <div id="navTabs">
                        <ul>
                            <li><a href="#kids">Kids</a></li>
                            <li><a href="#neighbors">Neighbors</a></li>
                            <li><a href="#uncles">Uncles</a></li>
                            <li><a href="#siblings">Siblings</a></li>
                        </ul>
                        <div>
                            <div id="kids" class="browser">

                        <p:dataTable styleClass="datatable"
                                     var="sample" value="#{hoodBean.children}"
                                     >
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Relative Path" />
                                </f:facet>
                                <h:outputText value="#{sample.relativePath}" />
                                <br />
                                <h:outputText value="#{sample.absPath}" />
                                <br />
                                <h:outputText value="#{sample.model.asset.assetType}" />
                            </p:column>

                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="comment" />
                                </f:facet>
                                <h:outputText value="#{sample.model.asset.comment}" />
                            </p:column>

                            <!-- .................................... -->

                            <p:column>
                                <f:facet name="header">
                                    Last update
                                </f:facet>
                                <h:outputText value="#{sample.model.asset.lastUpdateDate}" >
                                    <f:convertDateTime pattern="yyyy/MM/dd" />
                                </h:outputText>
                            </p:column>
                        </p:dataTable>

                            </div>
                            <div id="neighbors" class="browser">
                                Neighbors!
                            </div>
                            <div id="uncles" class="browser">
                                UNCLES!
                            </div>
                            <div id="siblings" class="browser">
                                SIBLINGS!
                            </div>
                        </div>
                    </div>
                </div>

                <script type="text/javascript" charset="utf-8">
                    // <![CDATA[
                    YUI().use('tabview', 'event',
                    "littleware.browser.Controller",
                    "littleware.browser.Model",
                    function (Y) {
                        var browser = new Y.littleware.browser.Controller.BrowserBuilder( Y ).build();
                        
                        var tabview = new Y.TabView({
                            srcNode: '#navTabs'
                        });

                        tabview.render();
                        
                    });
                    //]]>
                </script>

            </ui:define>
        </ui:composition>
    </h:body>
</html>

